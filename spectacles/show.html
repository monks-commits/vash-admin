<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title id="page-title">–í–∏—Å—Ç–∞–≤–∞</title>
  <link rel="stylesheet" href="../styles.css" />
</head>
<body>
  <header class="header">
    <h1 id="title">–í–∏—Å—Ç–∞–≤–∞</h1>
    <nav class="nav"><a href="../afisha.html">–ê—Ñ—ñ—à–∞</a></nav>
  </header>

  <div class="container">
    <div class="grid" style="grid-template-columns:300px 1fr">
      <img id="poster" style="width:100%;border-radius:12px;aspect-ratio:3/4;object-fit:cover;background:#eee" alt="–ê—Ñ—ñ—à–∞" />
      <div>
        <p id="description" class="meta"></p>
        <p><strong>–°—Ü–µ–Ω–∞:</strong> <span id="stageText"></span></p>
        <p><strong>–î–∞—Ç–∞:</strong> <span id="date"></span></p>
        <p><strong>–ß–∞—Å:</strong> <span id="time"></span></p>
        <p><strong>–õ–æ–∫–∞—Ü—ñ—è:</strong> <span id="venue"></span></p>
        <div style="margin-top:12px"><a id="to-hall" class="btn">üéüÔ∏è –í–∏–±—Ä–∞—Ç–∏ –º—ñ—Å—Ü—è</a></div>
      </div>
    </div>
  </div>

  <script>
    const qp = new URLSearchParams(location.search);
    const slug = qp.get('show');
    const stageName = s => s==='big'?'–í–µ–ª–∏–∫–∞ —Å—Ü–µ–Ω–∞':(s==='small'?'–ú–∞–ª–∞ —Å—Ü–µ–Ω–∞':'');
    if (!slug) { document.body.innerHTML = '–ü–æ–º–∏–ª–∫–∞: –Ω–µ–º–∞—î –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ ?show'; throw new Error(); }

    fetch(`../data/shows/${slug}.json`).then(r=>r.json()).then(show=>{
      document.getElementById('page-title').textContent = show.title + ' ‚Äî –æ–ø–∏—Å';
      document.getElementById('title').textContent = show.title + (show.stage?(' ('+stageName(show.stage)+')'):'');
      document.getElementById('description').textContent = show.description || '';
      document.getElementById('stageText').textContent = stageName(show.stage);
      document.getElementById('date').textContent = show.date || '';
      document.getElementById('time').textContent = show.time || '';
      document.getElementById('venue').textContent = show.venue || '';
      document.getElementById('poster').src = show.poster || '../images/posters/placeholder.jpg';
      document.getElementById('to-hall').href = `hall.html?show=${encodeURIComponent(slug)}`;
    }).catch(e=>{
      document.body.innerHTML = '–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å–ø–µ–∫—Ç–∞–∫–ª—å.';
      console.error(e);
    });
  </script>
</body>
</html>
